<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>åˆ†äº«æˆ‘çš„åç‰‡ï¼ˆLIFFï½œè‡ªå‹•åˆ†äº«ï¼‰</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans TC',Arial,sans-serif;margin:0;background:#0b0f14;color:#e6e9ef;display:flex;align-items:center;justify-content:center;min-height:100vh}
    .wrap{max-width:560px;width:92%;text-align:center}
    .hint{color:#a3a3a3;font-size:13px;margin-top:12px}
    a{color:#93c5fd}
  </style>
</head>
<body>
  <div class="wrap">
    <div>æ­£åœ¨é–‹å•Ÿåˆ†äº«é¢æ¿â€¦</div>
    <div class="hint">è‹¥é•·æ™‚é–“æ²’æœ‰åæ‡‰ï¼Œè«‹ç¢ºèªï¼š1) ä»¥<span style="white-space:nowrap">æ‰‹æ©Ÿç‰ˆ LINE</span>é–‹å•Ÿ 2) æ­¤ LIFF å·²å•Ÿç”¨ Share Target Pickerã€‚</div>
  </div>

  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script>
  // === è«‹å°‡ YOUR_LIFF_ID æ”¹æˆä½ çš„ LIFF IDï¼›æˆ–ç”¨ç¶²å€åƒæ•¸ ?liffId=xxxx å¸¶å…¥ ===
  const DEFAULT_LIFF_ID = "2007912782-KP2YNLap"; // ä¾‹å¦‚ï¼š2007912782-KP2YNLap

  // ä½ çš„ Flex åç‰‡ï¼ˆå››å€‹ bubbleï¼‰
  const flexCard = {
    "type": "flex",
    "altText": "æ¶¼æ¶¼å†·æ°£ æ•¸ä½åç‰‡",
    "contents": {
      "type": "carousel",
      "contents": [
        {
          "type": "bubble",
          "hero": {
            "type": "image",
            "url": "https://lh3.googleusercontent.com/d/1ySRkmW0I_NiHDJRZSbS0ZMnHFxYa7c6Q",
            "size": "full",
            "aspectMode": "cover",
            "aspectRatio": "1:2",
            "action": { "type": "uri", "uri": "https://joshtsang916.github.io/personalwebsite/" }
          }
        },
        {
          "type": "bubble",
          "hero": {
            "type": "image",
            "url": "https://lh3.googleusercontent.com/d/1X8t1I5EDrjFfeyAQNTkRiVz3XzGhUtgJ",
            "size": "full",
            "aspectMode": "cover",
            "aspectRatio": "1:2",
            "action": { "type": "uri", "uri": "https://mycal.tw/booking/8e2f2eca-d96d-49a2-9621-2d910bc19b40/appointment" }
          }
        },
        {
          "type": "bubble",
          "hero": {
            "type": "image",
            "url": "https://lh3.googleusercontent.com/d/1hMR3AUELQsCwsnjjY7H3BOC96FnpwA_t",
            "size": "full",
            "aspectMode": "cover",
            "aspectRatio": "1:1"
          },
          "body": {
            "type": "box",
            "layout": "vertical",
            "spacing": "md",
            "contents": [
              {
                "type": "box",
                "layout": "vertical",
                "backgroundColor": "#00000099",
                "cornerRadius": "md",
                "paddingAll": "10px",
                "contents": [
                  { "type": "text", "text": "æ¶¼æ¶¼å†·æ°£", "weight": "bold", "size": "xl", "color": "#33FFFF" },
                  { "type": "text", "text": "å°ˆæ¥­å†·æ°£å®‰è£ã€ç¶­ä¿®ã€æ¸…æ½”", "size": "sm", "color": "#AAFFEE", "wrap": true }
                ]
              }
            ]
          },
          "footer": {
            "type": "box",
            "layout": "vertical",
            "spacing": "sm",
            "contents": [
              { "type": "button", "style": "primary", "height": "sm", "action": { "type": "uri", "label": "ğŸ“ æ’¥æ‰“é›»è©±", "uri": "tel:+886985009706" } },
              { "type": "button", "style": "secondary", "height": "sm", "action": { "type": "uri", "label": "ğŸ“ å°èˆª", "uri": "https://maps.app.goo.gl/fontpDoV6vnj45LK9" } },
              { "type": "button", "style": "secondary", "height": "sm", "action": { "type": "uri", "label": "ğŸŒ å®˜ç¶²/é ç´„", "uri": "https://www.facebook.com/coooolAC/?locale=zh_TW" } }
            ]
          }
        }
      ]
    }
  };

  function getParam(name){ const u=new URL(location.href); return u.searchParams.get(name); }

  (async () => {
    try {
      const liffId = getParam('liffId') || DEFAULT_LIFF_ID;
      await liff.init({ liffId, withLoginOnExternalBrowser: true });
      if (!liff.isLoggedIn()) { liff.login(); return; }
      if (!liff.isApiAvailable('shareTargetPicker')) {
        alert('è«‹åœ¨æ‰‹æ©Ÿç‰ˆ LINE App å…§é–‹å•Ÿæ­¤é å†åˆ†äº«'); return;
      }
      await liff.shareTargetPicker([flexCard]);
      // åˆ†äº«å®Œæˆå¾Œè‡ªå‹•é—œé–‰ LIFF è¦–çª—
      liff.closeWindow();
    } catch (e) {
      console.error(e);
      alert('åˆå§‹åŒ–æˆ–åˆ†äº«å¤±æ•—ï¼š'+ (e?.message||e));
    }
  })();
  </script>
</body>
</html>
